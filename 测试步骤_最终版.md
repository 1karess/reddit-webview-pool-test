# WebView Pool 风险测试 - 最终步骤

## 🌐 测试链接

**URL**: https://visionary-cuchufli-83c169.netlify.app

**密码**: My-Drop-Site（如果需要）

**注意**: 这个链接会在 1 小时后过期（除非注册 Netlify 账户）

---

## 📱 测试步骤

### 第 1 步：在 Reddit App 中打开测试页面

**方法 A：通过 adb 命令（已自动运行）**
```bash
adb shell am start -a android.intent.action.VIEW -d "https://visionary-cuchufli-83c169.netlify.app"
```

**方法 B：手动在 App 中打开**
- 在 Reddit App 中找到可以输入 URL 的地方
- 输入：`https://visionary-cuchufli-83c169.netlify.app`

---

### 第 2 步：账号 A 测试

1. **确保已登录账号 A**
2. **打开测试页面后**，页面会自动加载并显示当前数据
3. **点击"写入测试数据"按钮**
   - 默认会写入：`test_account_A = account_A_data`
4. **点击"读取所有数据"按钮**
   - 确认数据已成功写入
   - 查看 localStorage、sessionStorage、Cookie 中都有数据
5. **截图或记录**显示的数据
6. **关闭页面**（返回上一页）

---

### 第 3 步：切换到账号 B

1. **在 Reddit App 中退出账号 A**
2. **登录账号 B**
3. **等待几秒**，让 App 完全切换账号

---

### 第 4 步：账号 B 测试

1. **再次打开测试页面**
   - 使用同样的 URL：`https://visionary-cuchufli-83c169.netlify.app`
2. **页面加载后，自动会显示当前数据**
3. **点击"读取所有数据"按钮**
4. **检查结果**：
   - ✅ **如果看不到账号 A 的数据**：说明数据被正确清理/隔离（安全）
   - ⚠️ **如果还能看到账号 A 的数据**：说明存在跨账号数据残留风险（有问题）

---

## 🎯 关键检查点

测试页面会自动检测并显示：

1. **localStorage 数据**
   - 如果账号 B 还能看到账号 A 写入的 `test_account_A`，说明有风险

2. **sessionStorage 数据**
   - 如果账号 B 还能看到账号 A 的数据，说明有风险

3. **Cookie 数据**
   - 如果账号 B 还能看到账号 A 的 Cookie，说明有风险

4. **页面状态提示**
   - 如果显示"⚠️ 检测到数据！可能是跨账号残留"，说明有风险

---

## 📊 结果判断

### ✅ 安全（无风险）
- 账号 B 打开页面后，所有存储都是空的
- 页面显示"✅ 未检测到数据"

### ⚠️ 有风险
- 账号 B 还能看到账号 A 的数据
- 页面显示"⚠️ 检测到数据！可能是跨账号残留"
- **这说明 WebView Pool 存在跨账号数据泄露风险**

---

## 📝 记录结果

测试完成后，请记录：

1. **账号 A 写入的数据**（截图或文字）
2. **账号 B 读取到的数据**（截图或文字）
3. **是否有数据残留**
4. **页面显示的警告信息**

---

## 🆘 如果链接打不开

1. **检查网络**：确保手机和 Mac 都能访问互联网
2. **检查 URL**：确认 URL 正确
3. **尝试在手机浏览器中打开**：先确认链接可用
4. **如果 1 小时后过期**：可以重新上传到 Netlify，或使用 GitHub Pages（永久免费）

---

## ✅ 现在开始测试

1. 我已经运行了 adb 命令，尝试在手机上打开链接
2. 如果没自动打开，手动在 Reddit App 中输入 URL
3. 按照上面的步骤进行测试
4. 完成后告诉我结果！
